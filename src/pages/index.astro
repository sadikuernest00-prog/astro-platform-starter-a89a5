---
const products = [
  {
    id: "set-white",
    name: "Lace Bra & Panty Set",
    price: 399,
    image: "/images/set-white.png",
    colors: ["White", "Black"],
    sizes: ["75B", "80B", "85B", "90B", "95B"],
    defaultColor: "White",
  },
  {
    id: "set-black",
    name: "Classic Black Lace Set",
    price: 399,
    image: "/images/set-black.png",
    colors: ["Black", "White"],
    sizes: ["75B", "80B", "85B", "90B", "95B"],
    defaultColor: "Black",
  },
  {
    id: "black-chemise",
    name: "Black Satin-Look Chemise Dress",
    price: 499,
    image: "/images/black-chemise.png",
    colors: ["Black"],
    sizes: ["S", "M", "L", "XL"],
    defaultColor: "Black",
  },
];

const WHATSAPP_LINK =
  "https://wa.me/4792928373?text=Hi%20I%20have%20a%20question%20about%20your%20products";

const base = import.meta.env.BASE_URL;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Amicbridge — Underwear designed for real life</title>

  <style>
    :root{
      --bg:#f7f6f4;
      --text:#151515;
      --muted:#6b6b6b;
      --border:#dedede;
      --card:#ffffff;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.6;
    }

    header{
      padding:26px 44px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .brand{
      font-weight:800;
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:18px;
    }
    nav{
      display:flex;
      gap:30px;
      align-items:center;
    }
    nav a{
      color:var(--text);
      text-decoration:none;
      font-size:16px;
    }

    main{
      max-width:1200px;
      margin:0 auto;
      padding:0 44px 80px;
    }

    .hero{
      margin-top:110px;
      max-width:720px;
    }
    .hero h1{
      font-size:72px;
      line-height:1.05;
      margin:0 0 20px;
    }
    .hero p{
      color:var(--muted);
      font-size:20px;
      max-width:560px;
    }
    .cta{
      display:inline-block;
      margin-top:20px;
      border:2px solid var(--text);
      padding:16px 22px;
      text-decoration:none;
      color:var(--text);
      font-size:16px;
    }

    .features{
      margin-top:140px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:70px;
    }
    .feature h3{
      margin:0 0 10px;
      font-size:24px;
    }
    .feature p{
      margin:0;
      color:var(--muted);
      font-size:18px;
    }

    .sectionTitle{
      margin-top:120px;
      font-size:26px;
      margin-bottom:20px;
    }

    .products{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap:26px;
    }
    .product{
      background:var(--card);
      border:1px solid var(--border);
      padding:16px;
    }
    .product img{
      width:100%;
      height:420px;
      object-fit:cover;
      background:#eee;
      border:1px solid var(--border);
    }

    .row{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      margin-top:12px;
    }
    .price{ font-weight:700; }

    .label{
      margin:14px 0 8px;
      color:var(--muted);
      font-size:13px;
      text-transform:uppercase;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:10px;
    }
    .opt{
      border:1px solid var(--border);
      padding:14px;
      background:#fff;
      cursor:pointer;
    }
    .opt.active{
      border-color:var(--text);
    }

    .qty{
      display:grid;
      grid-template-columns: 56px 70px 56px;
      border:1px solid var(--border);
      width:max-content;
    }
    .qty button{
      border:0;
      background:#fff;
      font-size:18px;
      cursor:pointer;
    }
    .qty div{
      display:flex;
      align-items:center;
      justify-content:center;
      border-left:1px solid var(--border);
      border-right:1px solid var(--border);
    }

    .actions{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:14px;
    }
    .btn{
      padding:12px;
      border:1px solid var(--text);
      cursor:pointer;
    }
    .btn.primary{
      background:var(--text);
      color:#fff;
    }

    .msg{
      font-size:12px;
      color:#1a7f37;
      margin-top:8px;
    }

    .contact{
      margin-top:100px;
      background:#fff;
      border:1px solid var(--border);
      padding:24px;
    }

    .wa-float{
      position:fixed;
      bottom:18px;
      right:18px;
      background:#25D366;
      color:#fff;
      padding:14px 16px;
      border-radius:999px;
      text-decoration:none;
      font-weight:700;
    }

    @media (max-width:900px){
      header{ padding:18px; }
      main{ padding:0 18px 60px; }
      .hero h1{ font-size:48px; }
      .features{ grid-template-columns:1fr; gap:30px; }
    }
  </style>
</head>

<body>
  <header>
    <div class="brand">AMICBRIDGE</div>
    <nav>
      <a href="#shop">Shop</a>
      <a href="#contact">Contact</a>
      <a href={`${base}checkout/`}>Checkout</a>
    </nav>
  </header>

  <main>
    <section class="hero">
      <h1>Underwear designed for<br>real life</h1>
      <p>
        Amicbridge creates thoughtfully made underwear for women who value comfort,
        simplicity, and quiet confidence.
      </p>
      <a class="cta" href="#shop">Explore the collection</a>
    </section>

    <section class="features">
      <div class="feature">
        <h3>Comfort first</h3>
        <p>Soft, breathable fabrics with cuts that respect real bodies.</p>
      </div>
      <div class="feature">
        <h3>Thoughtful design</h3>
        <p>Waistbands that don’t roll. Seams that don’t shout.</p>
      </div>
      <div class="feature">
        <h3>Everyday quality</h3>
        <p>Built to be worn, washed, and trusted again and again.</p>
      </div>
    </section>

    <section id="shop">
      <h2 class="sectionTitle">Shop</h2>

      <div class="products">
        {products.map(p => (
          <div class="product" data-id={p.id} data-price={p.price}>
            <img src={p.image} alt={p.name} />

            <div class="row">
              <h3>{p.name}</h3>
              <div class="price">{p.price} NOK</div>
            </div>

            <div class="label">Size</div>
            <div class="grid sizes">
              {p.sizes.map(s => (
                <button class="opt" data-size={s}>{s}</button>
              ))}
            </div>

            <div class="label">Color</div>
            <div class="grid colors">
              {p.colors.map(c => (
                <button class={`opt ${c === p.defaultColor ? "active" : ""}`} data-color={c}>{c}</button>
              ))}
            </div>

            <div class="label">Quantity</div>
            <div class="qty">
              <button data-minus>-</button>
              <div data-qty>1</div>
              <button data-plus>+</button>
            </div>

            <div class="actions">
              <button class="btn" data-clear>Clear</button>
              <button class="btn primary" data-add>Add to cart</button>
            </div>

            <div class="msg"></div>
          </div>
        ))}
      </div>
    </section>

    <section id="contact" class="contact">
      <h3>Contact</h3>
      <p><strong>CEO:</strong> Robert</p>
      <p>
        <strong>WhatsApp:</strong>
        <a href={WHATSAPP_LINK} target="_blank">Chat on WhatsApp</a>
      </p>
    </section>
  </main>

  <a class="wa-float" href={WHATSAPP_LINK} target="_blank">WhatsApp</a>

  <script>
    const CART_KEY = "amicbridge_cart_v1";

    function readCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || "[]"); }
    function writeCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); }

    document.querySelectorAll(".product").forEach(card=>{
      let qty=1, size=null, color=card.querySelector(".colors .active")?.dataset.color;

      card.querySelectorAll(".sizes .opt").forEach(b=>{
        b.onclick=()=>{ card.querySelectorAll(".sizes .opt").forEach(x=>x.classList.remove("active")); b.classList.add("active"); size=b.dataset.size; };
      });
      card.querySelectorAll(".colors .opt").forEach(b=>{
        b.onclick=()=>{ card.querySelectorAll(".colors .opt").forEach(x=>x.classList.remove("active")); b.classList.add("active"); color=b.dataset.color; };
      });

      card.querySelector("[data-plus]").onclick=()=>{ qty++; card.querySelector("[data-qty]").textContent=qty; };
      card.querySelector("[data-minus]").onclick=()=>{ qty=Math.max(1,qty-1); card.querySelector("[data-qty]").textContent=qty; };

      card.querySelector("[data-clear]").onclick=()=>{
        qty=1; size=null;
        card.querySelector("[data-qty]").textContent=1;
        card.querySelectorAll(".opt").forEach(o=>o.classList.remove("active"));
      };

      card.querySelector("[data-add]").onclick=()=>{
        if(!size || !color){ card.querySelector(".msg").textContent="Select size & color"; return; }
        const cart=readCart();
        cart.push({ productId:card.dataset.id, name:card.querySelector("h3").textContent, price:Number(card.dataset.price), size, color, qty });
        writeCart(cart);
        card.querySelector(".msg").textContent="Added to cart ✓";
      };
    });
  </script>
</body>
</html>

