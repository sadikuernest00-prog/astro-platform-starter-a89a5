---
const base = import.meta.env.BASE_URL;

const products = [
  {
    id: "set-black",
    name: "Black Satin-Look Cami & Shorts Set",
    price: 350,
    image: "/images/set-black.png",
    colors: ["Black"],
    sizes: ["S", "M", "L"],
  },
  {
    id: "set-white",
    name: "White Satin-Look Cami & Shorts Set",
    price: 350,
    image: "/images/set-white.png",
    colors: ["White"],
    sizes: ["S", "M", "L"],
  },
  {
    id: "nude-slip",
    name: "Nude Satin-Look Slip Dress",
    price: 350,
    image: "/images/nude-slipp-dress.png",
    colors: ["Nude"],
    sizes: ["S", "M", "L"],
  },
  {
    id: "black-chemise",
    name: "Black Satin-Look Chemise Dress",
    price: 350,
    image: "/images/black-chemise.png",
    colors: ["Black"],
    sizes: ["S", "M", "L"],
  },
];
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Amicbridge</title>

    <style>
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        background: #fafafa;
        color: #111;
      }

      header {
        padding: 28px 48px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      nav a {
        margin-left: 22px;
        text-decoration: none;
        color: #111;
        font-weight: 500;
      }

      nav a:hover {
        text-decoration: underline;
      }

      .hero {
        padding: 80px 48px 60px;
        max-width: 1200px;
      }

      .hero h1 {
        font-size: 56px;
        margin-bottom: 18px;
        line-height: 1.05;
      }

      .hero p {
        font-size: 18px;
        color: #555;
        max-width: 520px;
      }

      .products {
        padding: 40px 48px 80px;
        max-width: 1200px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 32px;
      }

      .card {
        background: #fff;
        border: 1px solid #ddd;
        padding: 16px;
        display: flex;
        flex-direction: column;
      }

      .card img {
        width: 100%;
        height: 380px;
        object-fit: cover;
        background: #eee;
      }

      .card h3 {
        margin: 14px 0 6px;
        font-size: 18px;
      }

      .price {
        font-weight: 700;
        margin-bottom: 10px;
      }

      select {
        padding: 10px;
        margin-bottom: 8px;
        border: 1px solid #ccc;
      }

      button {
        padding: 12px;
        border: 1px solid #111;
        background: #fff;
        cursor: pointer;
        font-weight: 600;
      }

      button:hover {
        background: #111;
        color: #fff;
      }

      footer {
        padding: 40px;
        text-align: center;
        color: #666;
      }

      @media (max-width: 768px) {
        header {
          padding: 20px;
        }
        .hero {
          padding: 60px 20px;
        }
        .products {
          padding: 20px;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <strong style="letter-spacing: 0.08em">AMICBRIDGE</strong>
      <nav>
        <a href="#shop">Shop</a>
        <a href={`${base}checkout/`}>Checkout</a>
        <a href="https://wa.me/4792928373" target="_blank">Contact</a>
      </nav>
    </header>

    <section class="hero">
      <h1>Underwear designed for real life</h1>
      <p>
        Amicbridge creates thoughtfully made underwear for women who value
        comfort, simplicity, and quiet confidence.
      </p>
    </section>

    <section id="shop" class="products">
      {products.map((product) => (
        <div class="card">
          <img src={product.image} alt={product.name} />
          <h3>{product.name}</h3>
          <div class="price">{product.price} NOK</div>

          <select data-size>
            <option value="">Select size</option>
            {product.sizes.map((s) => (
              <option value={s}>{s}</option>
            ))}
          </select>

          <select data-color>
            <option value="">Select color</option>
            {product.colors.map((c) => (
              <option value={c}>{c}</option>
            ))}
          </select>

          <button
            onClick={`addToCart('${product.id}', '${product.name}', ${product.price})`}
          >
            Add to cart
          </button>
        </div>
      ))}
    </section>

    <footer>
      © {new Date().getFullYear()} Amicbridge · Orders via Checkout
    </footer>

    <script>
      const CART_KEY = "amicbridge_cart_v1";

      function getCart() {
        try {
          return JSON.parse(localStorage.getItem(CART_KEY)) || [];
        } catch {
          return [];
        }
      }

      function saveCart(cart) {
        localStorage.setItem(CART_KEY, JSON.stringify(cart));
      }

      window.addToCart = function (id, name, price) {
        const card = event.target.closest(".card");
        const size = card.querySelector("[data-size]").value;
        const color = card.querySelector("[data-color]").value;

        if (!size || !color) {
          alert("Please select size and color");
          return;
        }

        const cart = getCart();
        cart.push({
          id,
          name,
          price,
          size,
          color,
          qty: 1,
        });

        saveCart(cart);
        alert("Added to cart");
      };
    </script>
  </body>
</html>

